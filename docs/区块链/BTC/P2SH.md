P2SH，全称为Pay-To-Script-Hash，是比特币中常见的交易脚本类型之一，它的作用是将一个较长的脚本哈希值作为交易输出的地址，从而缩短交易输出的长度。

使用 P2SH，可以将一个比特币地址的实际解锁脚本隐藏在一个哈希函数的结果之中，并将这个哈希函数的结果放在交易输出中，从而降低交易输出的长度，减小交易费用。在接收到交易的时候，交易的接收方需要提供与 P2SH 锁定脚本哈希值相匹配的解锁脚本，才能成功地花费交易输出。

P2SH 多签钱包就是使用 P2SH 技术实现的多重签名钱包。它的工作原理是先将多个公钥合成一个多签地址（即 P2SH 锁定脚本哈希值），然后将这个多签地址放在交易输出中。当接收到这笔交易时，需要满足对应脚本的条件才能解锁交易。

P2SH 多签钱包的优点在于它能够提供更高的安全性，因为必须获得至少两个私钥的签名才能完成交易，即使一个私钥被盗，也不会对多签钱包造成致命的影响。此外，使用 P2SH 技术的多签钱包具有广泛兼容性，并且易于在不同的区块链交易平台上使用。

不过，需要注意的是，P2SH 多签钱包的实现需要使用一些特殊的技术，例如哈希函数和多重签名交易授权机制，需要确保代码的正确性和安全性，避免遭受盗窃或其他攻击。

以下是一个简单的 2-3 多重签名脚本示例：
2 <public_key_1> <public_key_2> <public_key_3> 3 OP_CHECKMULTISIG

这个脚本需要获得三个公钥中的至少两个进行授权，以完成交易。具体的脚本解释如下：
• 使用数字 2 指定需要的签名数量；
• 然后列出了三个公钥，分别代表三个私钥，这个例子中只需要得到其中两个公钥的签名即可；
• 最后，使用 OP_CHECKMULTISIG 函数来验证收到的签名是否与至少两个公钥匹配。

当用户需要花费多签钱包中的资金时，她需要向比特币网络发送一条交易，交易脚本会包含类似上述脚本的多签授权的脚本。交易的输入中应该包含每个待花费的交易的信息，以及签名数据，这些签名数据是由多重签名钱包中维护的私钥签名的。

一旦交易输入已经获得了足够的签名，交易将被广播到比特币网络并被挖掘成区块，实现了快速、便捷和安全的多重签名交易。
